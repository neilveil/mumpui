// Form
// .mp-form {}

@mixin center {
  display: flex;
  justify-content: center;
  align-items: center;
}

// Input

$input-font-size: 0.7rem;
$input-top-padding: 0.3rem;
$input-left-padding: $input-top-padding * 2;

.mp-input-dummy {
  padding: $input-top-padding $input-left-padding;
  font-size: $input-font-size;
  color: var(--mp-c-font-dark);
  display: flex;
  gap: calc($input-left-padding / 2);
  flex-wrap: wrap;
}

.mp-input-chip {
  padding: 0 0.5rem;
  padding-right: 0;
  background-color: var(--mp-c-hover);
  border-radius: var(--mp-border-radius);
  display: flex;
  align-items: center;
  user-select: none;

  svg {
    width: 1.5rem;
    height: 1rem;
    cursor: pointer;
    padding: 0 0.5rem;
  }
}

.mp-input,
.mp-dropdown {
  border: var(--mp-stroke-width) solid var(--mp-c-stroke);
  border-radius: var(--mp-border-radius);
  color: var(--mp-c-font-dark);
  background: var(--mp-c-bg);
  transition: var(--mp-transition);
  font-size: $input-font-size;
  display: flex;
  align-items: center;
  position: relative;

  input,
  textarea,
  .mp-value {
    width: 100%;
    border: none;
    outline: none;
    padding: 0;
    padding: $input-top-padding $input-left-padding;
    border-radius: var(--mp-border-radius);

    // For dropdown chips
    display: flex;
    gap: calc($input-left-padding / 2);
    flex-wrap: wrap;

    &::placeholder {
      color: var(--mp-c-placeholder);
    }

    &:disabled {
      background-color: var(--mp-c-hover);
    }
  }

  input[type='color'] {
    height: 2rem;
  }

  &:hover {
    border-color: var(--mp-c-stroke-hover);
  }

  &:focus-within {
    border-color: var(--mp-c-stroke-active);
  }

  .mp-prefix {
    @include center();
    font-weight: var(--mp-fw-semi-bold);
    color: var(--c-font);
    background-color: var(--mp-c-hover);
    padding: $input-top-padding $input-left-padding;
    border-radius: var(--mp-border-radius) 0 0 var(--mp-border-radius);
  }
  .mp-suffix {
    @include center();
    font-weight: var(--mp-fw-semi-bold);
    color: var(--c-font);
    background-color: var(--mp-c-hover);
    padding: $input-top-padding $input-left-padding;
    border-radius: 0 var(--mp-border-radius) var(--mp-border-radius) 0;
  }
}

$field-margin: 1rem;

.mp-field {
  margin: $field-margin 0;
}

.mp-fields {
  display: flex;
  gap: 1rem;
  margin: $field-margin 0;
  overflow: auto;

  &::-webkit-scrollbar {
    display: none;
  }

  & > div {
    width: 100%;
    margin: 0;
  }
}

.mp-label {
  font-size: 0.7rem;
  font-weight: var(--mp-fw-semi-bold);
  color: var(--c-font);
  margin-bottom: 0.25rem;
}

.mp-divider {
  display: flex;
  align-items: center;
  gap: 1rem;
  margin: (2 * $field-margin) 0;
  overflow: auto;

  .mp-divider-line {
    border-bottom: var(--mp-stroke-width) solid var(--mp-c-stroke);
    width: 100%;
  }

  .mp-divider-text {
    width: 100%;
    text-align: center;
    font-size: 0.8rem;
    color: var(--mp-c-font-light);
    white-space: pre;
  }
}

.mp-input-output {
  background-color: var(--mp-c-bg);
  border: var(--mp-stroke-width) solid var(--mp-c-stroke);
  border-radius: var(--mp-border-radius);
  position: absolute;
  width: 100%;
  top: 100%;
  z-index: 2;
  max-height: 30vh;
  overflow: auto;
  margin-top: 0.5rem;
  animation: appear 300ms ease forwards;
  user-select: none;

  @keyframes appear {
    0% {
      margin-top: 1rem;
      opacity: 0;
    }
    100% {
      margin-top: 0.5rem;
      opacity: 1;
    }
  }

  .mp-search {
    border-bottom: var(--mp-stroke-width) solid var(--mp-c-stroke);
    border-radius: 0;
    color: var(--mp-c-font-light);
  }

  & > .mp-option {
    padding: 0.5rem 1rem;
    border-bottom: var(--mp-stroke-width) solid var(--mp-c-stroke);

    &:hover,
    &:focus {
      background-color: var(--mp-c-hover);
    }
  }
}

///////////////////////////////////////////////////////

// @mixin pointer {
//   cursor: pointer;
//   user-select: none;
//   -webkit-user-drag: none;
//   -webkit-app-region: no-drag;
//   -webkit-tap-highlight-color: transparent;
// }

// @mixin no-styles {
//   outline: none;
//   box-shadow: none;
//   border: none;
//   text-decoration: none;
// }

// Range
.mp-range {
  input {
    appearance: none;
    width: 100%;
    background-color: var(--mp-c-stroke);
    height: 4px;

    &::-webkit-slider-thumb {
      appearance: none;
      background-color: var(--mp-c-font-dark);
      border-radius: 50%;
      width: 0.75rem;
      height: 0.75rem;
      cursor: pointer;
    }
  }
}

// Button
.mp-button {
  border-radius: var(--mp-border-radius);
  box-shadow: none;
  border: none;
  transition: var(--mp-transition);
  border: var(--mp-stroke-width) solid;
  font-weight: var(--mp-fw-semi-bold);

  padding: $input-top-padding $input-left-padding;
  font-size: 0.65rem;
  background-color: transparent;
  color: var(--mp-c-font);

  &:hover {
    opacity: 0.7;
  }

  // Type
  // &.default {}
  &.mp-button-primary {
    color: var(--mp-c-bg);
    background-color: var(--mp-c-primary);
  }
  &.mp-button-default {
    border: var(--mp-stroke-width) solid var(--mp-c-stroke);
  }
  &.mp-button-dashed {
    border: var(--mp-stroke-width) dashed var(--mp-c-stroke);
  }
  &.mp-button-danger {
    color: var(--mp-c-error);
    border: var(--mp-stroke-width) dashed var(--mp-c-error);
  }
  &.mp-button-text {
    border: none;
  }
}

// Checkbox
.mp-checkbox,
.mp-radio {
  user-select: none;
  display: inline-block;
  padding: $input-top-padding 0;
  // padding: 1rem 0;

  label {
    position: relative;
    display: flex;
    align-items: center;

    &:hover > .mp-checkbox-icon,
    &:hover > .mp-radio-icon {
      background-color: var(--mp-c-hover);
    }
  }

  input {
    position: absolute;
    opacity: 0;
    cursor: pointer;
    height: 0;
    width: 0;
  }

  input:checked ~ .mp-checkbox-icon:after,
  input:checked ~ .mp-radio-icon:after {
    display: block;
  }

  .mp-checkbox-icon,
  .mp-radio-icon {
    position: absolute;
    top: 0;
    left: 0;
    height: 1rem;
    width: 1rem;
    border-radius: calc(var(--mp-border-radius) / 2);
    border: 1px solid var(--mp-c-stroke);
  }

  .mp-radio-icon {
    border-radius: 50%;
  }

  .mp-checkbox-icon {
    &::after {
      display: none;
      position: absolute;
      content: '';
      left: 0.3rem;
      top: 0.1rem;
      width: 0.35rem;
      height: 0.6rem;
      border: solid var(--mp-c-font);
      border-width: 0 2px 2px 0;
      transform: rotate(45deg);
      animation: check 100ms ease forwards;
    }

    @keyframes check {
      0% {
        transform: rotate(45deg) scale(0) translate(-1rem, -1rem);
      }
      100% {
        transform: rotate(45deg) scale(1) translate(0, 0);
      }
    }
  }

  .mp-radio-icon {
    &::after {
      display: none;
      position: absolute;
      content: '';
      left: 0.2rem;
      top: 0.2rem;
      width: 0.5rem;
      height: 0.5rem;
      background-color: var(--mp-c-font);
      border-radius: 50%;
      animation: radio 200ms ease forwards;
    }

    @keyframes radio {
      0% {
        transform: scale(0);
      }
      100% {
        transform: scale(1);
      }
    }
  }

  .mp-checkbox-label,
  .mp-radio-label {
    font-size: 0.8rem;
    color: var(--mp-c-font);
    padding-right: 1rem;
    margin-left: 1.5rem;
  }
}

// File
.mp-file {
  padding: $input-top-padding $input-left-padding;
  font-size: 0.7rem;
  border: var(--mp-stroke-width) dashed var(--mp-c-stroke);
  border-radius: var(--mp-border-radius);

  input {
    display: none;
  }
}

// // Buttons
// .mp-buttons {
//   display: inline-flex;
//   font-size: 16px;

//   button {
//     background-color: var(--mp-bg);
//     border: 1px solid var(--mp-stroke);
//     padding: 8px 16px;
//     color: var(--mp-font-dark);
//   }

//   button + button {
//     border-left: none;
//   }

//   button:first-child {
//     border-top-left-radius: var(--mp-radius);
//     border-bottom-left-radius: var(--mp-radius);
//   }

//   button:last-child {
//     border-top-right-radius: var(--mp-radius);
//     border-bottom-right-radius: var(--mp-radius);
//   }

//   .mp-button-active {
//     border: 1px solid var(--mp-active);
//     color: var(--mp-active);
//   }
// }

// // Field
// .mp-field {
//   margin: 20px 0;

//   .mp-label {
//     font-size: 14px;
//     margin-bottom: 10px;
//     font-weight: var(--mp-label-weight);
//     color: var(--mp-font-label);

//     .mp-info {
//       color: var(--mp-font-light);
//       margin-left: 8px;
//       font-weight: 400;
//     }
//   }
// }

// // Table
// .mp-table {
//   overflow: auto;

//   table {
//     background-color: var(--mp-bg);

//     td {
//       border: 1px solid var(--mp-stroke);
//       padding: 10px;
//       font-size: 16px;
//     }

//     thead {
//       background-color: var(--mp-light);

//       td {
//         font-weight: var(--mp-semi-bold);
//         color: var(--mp-font-dark);
//       }
//     }
//   }
// }

// // Tabs
// .mp-tabs {
//   display: flex;
//   overflow: auto;
//   color: var(--mp-font);
//   user-select: none;

//   &::-webkit-scrollbar {
//     display: none;
//   }

//   & > div {
//     padding: 10px 20px;
//     white-space: pre;
//     cursor: pointer;
//     border-bottom: 2px solid transparent;
//     transition: var(--transition);
//     position: relative;
//     text-align: center;
//     font-size: 16px;

//     &:hover {
//       color: var(--c-primary);
//     }
//   }

//   .mp-tab-active {
//     color: var(--c-primary);
//     border-color: var(--c-primary);
//     font-weight: var(--mp-semi-bold);

//     // &::after {
//     //   position: absolute;
//     //   content: '';
//     //   bottom: 0;
//     //   left: 0;
//     //   height: 2px;
//     //   width: 100%;
//     //   // margin-left: 25%;
//     //   background-color: var(--c-primary);
//     // }
//   }
// }

// .mp-search {
//   // border: 1px solid green;
//   position: relative;

//   input {
//     // border: none;
//     width: 100%;
//   }
// }

// .mp-search-options {
//   position: absolute;
//   width: 100%;
//   border: 1px solid var(--mp-stroke);
//   top: calc(100% + 10px);
//   z-index: 1;
//   border-radius: var(--mp-radius);
//   // padding: 10px 0;
//   max-height: 30vh;
//   overflow: auto;
//   backdrop-filter: blur(20px);

//   & > div {
//     padding: 10px 20px;
//     cursor: pointer;

//     &:hover {
//       // background: var(--mp-light);
//       color: var(--mp-font-dark);
//     }
//   }
// }

// .mp-multiselect {
//   overflow: auto;
//   border: 1px solid;
//   display: flex;
//   flex-wrap: wrap;
//   gap: 10px;
//   cursor: text;

//   &::-webkit-scrollbar {
//     display: none;
//   }

//   .mp-chip {
//     background-color: red;
//     padding: 2px 10px;
//     display: inline-block;
//   }

//   .mp-multiselect-input {
//     position: relative;
//     min-width: 10px;

//     &::after {
//       content: attr(data-value) ' ';
//       visibility: hidden;
//       white-space: pre;
//     }

//     input {
//       background-color: green;
//       position: absolute;
//       top: 0;
//       left: 0;
//       border: none;
//       padding: 0;
//       width: 100%;
//       height: 100%;
//     }
//   }
// }

.mp-menu {
  width: 100%;
  user-select: none;
  overflow: auto;
  font-size: 0.7rem;

  .mp-menu-item {
    display: flex;
    justify-content: space-between;
    align-items: center;
    cursor: pointer;
    margin: 0.25rem 0;
    padding: 0.4rem 0.8rem;
    border-radius: var(--mp-border-radius);
    color: var(--mp-c-font);

    &:hover {
      background-color: var(--mp-c-hover);
    }

    .mp-menu-item-icon {
      margin-right: 0.5rem;
      font-size: 0.9rem;
      color: var(--mp-c-font-light);
    }

    .mp-menu-item-name {
      font-weight: var(--mp-fw-regular);
    }

    .mp-menu-item-expand-icon {
      width: 0.8rem;
      height: 0.8rem;
      margin-left: 1rem;
    }
  }

  .mp-menu-item-group {
    margin-left: 1rem;
  }

  .mp-menu-item-selected {
    background-color: var(--mp-c-hover);

    .mp-menu-item-name {
      color: var(--mp-c-primary);
      font-weight: var(--mp-fw-semi-bold);
    }
  }
}

.mp-pagination {
  display: flex;
  align-items: center;
  font-size: 0.9rem;

  .mp-pagination-left-arrow,
  .mp-pagination-right-arrow {
    padding: 0 0.5rem;
    margin: 0 1rem;
    cursor: pointer;
    border: var(--mp-stroke-width) solid var(--mp-c-stroke);
    border-radius: var(--mp-border-radius);
    user-select: none;

    svg {
      width: 0.7rem;
      height: 0.7rem;
    }
  }
  .mp-pagination-page-number,
  .mp-pagination-pages {
    input {
      border: none;
      outline: nono;
      padding: 0;
      margin: 0;
      text-align: center;
      color: var(--mp-c-font);

      &::placeholder {
        color: var(--mp-c-placeholder);
      }
    }
  }
  .mp-pagination-pages {
    color: var(--mp-c-font-light);
  }
  .mp-pagination-seperator {
    color: var(--mp-c-font-light);
    padding: 0 0.25rem;
  }
  .mp-pagination-disabled {
    background-color: var(--mp-c-hover);
    opacity: 0.5;
    cursor: default;
  }
}
